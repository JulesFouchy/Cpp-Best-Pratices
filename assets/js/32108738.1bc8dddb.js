"use strict";(self.webpackChunkteaching_toolbox_website_generator=self.webpackChunkteaching_toolbox_website_generator||[]).push([[13],{4137:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),p=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,o=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,h=u["".concat(o,".").concat(m)]||u[m]||c[m]||s;return n?a.createElement(h,l(l({ref:t},d),{},{components:n})):a.createElement(h,l({ref:t},d))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,l=new Array(s);l[0]=u;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var p=2;p<s;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3136:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7294),i=n(6010),s={note:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})),tip:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})),danger:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},a.createElement("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})),info:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})),caution:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},l={note:"secondary",tip:"success",danger:"danger",info:"info",caution:"warning"};function r(e){var t=e.children,n=e.type,r=e.title,o=void 0===r?n:r,p=e.icon,d=void 0===p?s[n]:p;return a.createElement("div",{className:(0,i.Z)("admonition","admonition-"+n,"alert","alert--"+l[n])},a.createElement("div",{className:"admonition-heading"},a.createElement("h5",null,a.createElement("span",{className:"admonition-icon"},d),o)),a.createElement("div",{className:"admonition-content"},t))}var o=n(7988);function p(e){var t=e.resources;return a.createElement(r,{type:"info",title:"Going Further"},t.map((function(e){return a.createElement("p",null,(0,o.Z)(e))})))}},8442:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(7294),i=n(4820);function s(e){var t=e.slug,n=e.text,s=e.anchor,l=i.find((function(e){return e.slug===t}));if(void 0===l)throw console.error('Broken link to inexistant lesson "'+t+'"'),"";return a.createElement("a",{href:l.link+(s||"")},n||l.title)}},7988:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(7294);function i(e){var t=e.title,n=e.author,i=e.link,s=e.duration,l=e.description;return a.createElement("span",null,a.createElement("a",{href:i,target:"_blank"},n,", ",a.createElement("i",null,t)),s&&a.createElement("span",null," (",s,")"),l&&a.createElement("span",null," ",l))}},3730:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return u},default:function(){return h}});var a=n(7462),i=n(3366),s=(n(7294),n(4137)),l=n(8442),r=n(3136),o=["components"],p={title:"CMake",benefit:3,easiness:3,level:3,tags:["C++"]},d=void 0,c={unversionedId:"lessons/cmake",id:"lessons/cmake",title:"CMake",description:"Brief",source:"@site/../../content/lessons/cmake.md",sourceDirName:"lessons",slug:"/lessons/cmake",permalink:"/Learn--Clean-Code-With-Cpp/lessons/cmake",tags:[{label:"C++",permalink:"/Learn--Clean-Code-With-Cpp/tags/c"}],version:"current",frontMatter:{title:"CMake",benefit:3,easiness:3,level:3,tags:["C++"]},sidebar:"lessons",previous:{title:"Advanced Git features",permalink:"/Learn--Clean-Code-With-Cpp/lessons/advanced-git-features"},next:{title:"Functional programming",permalink:"/Learn--Clean-Code-With-Cpp/lessons/functional-programming"}},u=[{value:"Brief",id:"brief",children:[],level:2},{value:"CMake tips",id:"cmake-tips",children:[{value:"Enabling warnings",id:"enabling-warnings",children:[],level:3},{value:"Setting your C++ version",id:"setting-your-c-version",children:[],level:3},{value:"Adding <code>#define</code> (compile definitions)",id:"adding-define-compile-definitions",children:[],level:3},{value:"Setting the output path",id:"setting-the-output-path",children:[],level:3},{value:"Copying files and folders",id:"copying-files-and-folders",children:[],level:3},{value:"GLOB",id:"glob",children:[],level:3},{value:"Precompiled header",id:"precompiled-header",children:[],level:3}],level:2},{value:"CMake for library authors",id:"cmake-for-library-authors",children:[{value:"add_library()",id:"add_library",children:[],level:3},{value:"Use the target_xxx() commands",id:"use-the-target_xxx-commands",children:[],level:3},{value:"PRIVATE | PUBLIC | INTERFACE",id:"private--public--interface",children:[],level:3},{value:"Add an alias containing &quot;::&quot;",id:"add-an-alias-containing-",children:[],level:3}],level:2},{value:"Going further",id:"going-further",children:[],level:2}],m={toc:u};function h(e){var t=e.components,p=(0,i.Z)(e,o);return(0,s.kt)("wrapper",(0,a.Z)({},m,p,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"brief"},"Brief"),(0,s.kt)("p",null,"To understand modern CMake you need to understand ",(0,s.kt)("em",{parentName:"p"},"targets"),". Basically a target is an executable or a library. You will define a target for your executable and describe its source files, and then you will import the targets for each library you use, and will add those targets as a dependency of your executable. Here is an example taken from ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/JulesFouchy/p6-examples/blob/main/CMakeLists.txt"},"p6-examples"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},'cmake_minimum_required(VERSION 3.8)\nproject(p6-hello-world)\n\nadd_executable(${PROJECT_NAME} # Creates a target called ${PROJECT_NAME}, a.k.a. p6-hello-world\n    src/main.cpp               # And adds its source files: main.cpp and something.cpp\n    src/something.cpp          # Note that you don\'t need to list the header files here (.h / .hpp)\n)\n\nadd_subdirectory(p6)                                  # Includes the p6 library ; this assumes that you have a folder called p6 at the same level as this CMakeLists.txt file, and that the p6 folder contains a CMakeLists.txt file\ntarget_link_libraries(${PROJECT_NAME} PRIVATE p6::p6) # Adds the target "p6::p6" as a dependency of our target ${PROJECT_NAME}. Unfortunately the command is called target_link_libraries() even though it can be used for other things than just linking ; don\'t get confused! A better name would have been add_dependency()\n                                                      # The name of the target "p6::p6" is up to the library authors. Check out their documentation to know how they called it!\n                                                      # The "::" in the name of the library\'s target is not mandatory, but library authors often add it because target_link_libraries() can do many different things, and if you make a typo in the name of the target it will ignore it instead of reporting an error. It is only if you have a "::" in the name that target_link_libraries() will know that it can\'t be anything but a target and will raise an error if the name doesn\'t actually correspond to a target.\n')),(0,s.kt)("p",null,"And that is all you need for a basic ",(0,s.kt)("em",{parentName:"p"},"CMakeLists.txt"),"!"),(0,s.kt)("p",null,"If all your libraries define a target properly then you don't need anything more to build your project. (If they don't, unfortunately you will have to ",(0,s.kt)("a",{parentName:"p",href:"#cmake-for-library-authors"},"do their job for them"),")."),(0,s.kt)("h2",{id:"cmake-tips"},"CMake tips"),(0,s.kt)("p",null,"Now we will see a few useful things that you can do with CMake:"),(0,s.kt)("h3",{id:"enabling-warnings"},"Enabling warnings"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"if (MSVC) # Visual Studio for Windows\n    target_compile_options(${PROJECT_NAME} PRIVATE /WX /W3)\nelse() # gcc and clang\n    target_compile_options(${PROJECT_NAME} PRIVATE -Werror -Wall -Wextra -Wpedantic -pedantic-errors)\nendif()\n")),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"/WX")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"-Werror")," make your compiler treat warnings as errors, and the other flags enable a lot of useful warnings."),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},(0,s.kt)("strong",{parentName:"p"},"Warnings are your friends"),". They exist to protect you from bad practices and bugs. Listen to them!"),(0,s.kt)("p",{parentName:"div"},"A C++ code that compiles is far from guaranteed to have no bugs! (mostly because of backward compatibility with C). This is why warnings are important!"))),(0,s.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"If you are writing a library, using ",(0,s.kt)("em",{parentName:"p"},"warnings as errors")," can prevent your users from compiling your library. Because the different compilers (and compiler versions) don't generate the same warnings and you might therefore have missed some."),(0,s.kt)("p",{parentName:"div"},"You should only enable ",(0,s.kt)("em",{parentName:"p"},"warnings as errors")," when you are building the tests of your library, and disable it by default for your users. This is what ",(0,s.kt)("em",{parentName:"p"},"p6")," does:"),(0,s.kt)("pre",{parentName:"div"},(0,s.kt)("code",{parentName:"pre",className:"language-cmake",metastring:'title="p6/CMakeLists.txt"',title:'"p6/CMakeLists.txt"'},'if (p6_ENABLE_WARNINGS_AS_ERRORS)\n    message("-- [p6] Enabling warnings as errors for p6")\n    if(MSVC)\n        target_compile_options(p6 PRIVATE /WX /W4)\n    else()\n        target_compile_options(p6 PRIVATE -Werror -Wall -Wextra -Wpedantic -pedantic-errors -Wconversion -Wsign-conversion)\n    endif()\n    set(glpp_extended_ENABLE_WARNINGS_AS_ERRORS true)\n    set(img_ENABLE_WARNINGS_AS_ERRORS true)\nelse()\n    message("-- [p6] Not using warnings as errors for p6")\nendif()\n')),(0,s.kt)("p",{parentName:"div"},(0,s.kt)("a",{parentName:"p",href:"https://github.com/JulesFouchy/p6/blob/main/CMakeLists.txt"},(0,s.kt)("em",{parentName:"a"},"p6's CMake"))),(0,s.kt)("pre",{parentName:"div"},(0,s.kt)("code",{parentName:"pre",className:"language-cmake",metastring:'title="p6-tests/CMakeLists.txt"',title:'"p6-tests/CMakeLists.txt"'},"set(p6_ENABLE_WARNINGS_AS_ERRORS true)\nadd_subdirectory(p6)\n")),(0,s.kt)("p",{parentName:"div"},(0,s.kt)("a",{parentName:"p",href:"https://github.com/JulesFouchy/p6-docs/blob/main/tests/CMakeLists.txt"},(0,s.kt)("em",{parentName:"a"},"p6-test's CMake"))))),(0,s.kt)("h3",{id:"setting-your-c-version"},"Setting your C++ version"),(0,s.kt)("p",null,"You can ask for a specific version of C++:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_compile_features(${PROJECT_NAME} PRIVATE cxx_std_20)\n")),(0,s.kt)("p",null,"(If you don't you will probably get C++11 by default)."),(0,s.kt)("p",null,"You can even ask for finer details with parameters like ",(0,s.kt)("inlineCode",{parentName:"p"},"cxx_variadic_templates"),". This can be useful to increase the portability of your code a little bit (for example if you need C++11 plus only one little feature from C++14). Don't abuse it though because it can be very tedious to maintain!"),(0,s.kt)("h3",{id:"adding-define-compile-definitions"},"Adding ",(0,s.kt)("inlineCode",{parentName:"h3"},"#define")," (compile definitions)"),(0,s.kt)("p",null,"You can ",(0,s.kt)("inlineCode",{parentName:"p"},"#define SOMETHING")," from CMake. This can be useful to propagate information from CMake into your project. For example you can do"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake",metastring:'title="cmake"',title:'"cmake"'},"target_compile_definitions(${PROJECT_NAME} PRIVATE\n    USE_THIS_FEATURE\n)\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cpp",metastring:'title="C++"',title:'"C++"'},"#if USE_THIS_FEATURE\n    // Do something\n#else \n    // Do something else\n#endif\n")),(0,s.kt)("p",null,"A very good use case is"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_compile_definitions(${PROJECT_NAME} PRIVATE\n    $<$<CONFIG:Debug>:DEBUG>\n)\n")),(0,s.kt)("p",null,"which defines ",(0,s.kt)("inlineCode",{parentName:"p"},"DEBUG")," if you are building in debug mode. (This uses a ",(0,s.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/46206495/cmake-generator-expressions"},"generator expression"),'. It can be read as: "If the CMake ',(0,s.kt)("em",{parentName:"p"},"CONFIG")," is ",(0,s.kt)("em",{parentName:"p"},"Debug"),", then return ",(0,s.kt)("em",{parentName:"p"},"DEBUG"),', otherwise return nothing"). You can then have debug checks in your code that are only compiled in debug mode and totally removed in release:'),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cpp"},'void assert_shader_is_bound(GLint id)\n{\n#if DEBUG\n    GLint current_id;\n    glGetIntegerv(GL_CURRENT_PROGRAM, &current_id);\n    assert(current_id == id && "The shader is not bound");\n#endif\n}\n')),(0,s.kt)("p",null,"You can also give a value to your ",(0,s.kt)("inlineCode",{parentName:"p"},"#define")," (by default it gets the value ",(0,s.kt)("inlineCode",{parentName:"p"},"1"),"):"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake",metastring:'title="cmake"',title:'"cmake"'},'target_compile_definitions(${PROJECT_NAME} PRIVATE\n    WINDOW_NAME=\\"Django ${CMAKE_PROJECT_VERSION}\\"\n)\n')),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cpp",metastring:'title="C++"',title:'"C++"'},'glfwCreateWindow(1280, 720, WINDOW_NAME, nullptr, nullptr);\n// Which expands to:\nglfwCreateWindow(1280, 720, "Django 1.0", nullptr, nullptr);\n')),(0,s.kt)("h3",{id:"setting-the-output-path"},"Setting the output path"),(0,s.kt)("p",null,"By default your executable will end up in ",(0,s.kt)("em",{parentName:"p"},"build")," with many other stuff generated by CMake. You can change that with the target property ",(0,s.kt)("inlineCode",{parentName:"p"},"RUNTIME_OUTPUT_DIRECTORY"),". I personnaly like to do"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"set_target_properties(${PROJECT_NAME} PROPERTIES\n    RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/bin/${CMAKE_BUILD_TYPE})\n")),(0,s.kt)("p",null,"which gives me"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"\u251c\u2500\u2500 bin/\n\u2502   \u251c\u2500\u2500 Debug\n\u2502   \u2502   \u251c\u2500\u2500 myproject.exe // Built in debug mode\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 Release\n\u2502       \u251c\u2500\u2500 myproject.exe // Built in release mode\n\u2502       \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 build/\n\u2502   \u251c\u2500\u2500 random cmake stuff you don't need to care about\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 CMakeLists.txt\n")),(0,s.kt)("h3",{id:"copying-files-and-folders"},"Copying files and folders"),(0,s.kt)("p",null,"Very often in projects you need to have files available alongside your executable ; it can be images, 3D models, shaders: anything that is not built into your binary but instead loaded at runtime."),(0,s.kt)("p",null,"You will have those files somewhere in your sources, but when you produce an executable and send it to your friends you must not forget to send the other resource files as well! CMake can help you by automating the process of copying these files to the output folder where your executable is created."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"All the files required by CoolLab.exe",src:n(26).Z,width:"582",height:"179"})),(0,s.kt)("p",null,(0,s.kt)("em",{parentName:"p"},"All the files required by CoolLab.exe")),(0,s.kt)("p",null,"Here is an example of how you can ask CMake to copy your asset files and folders whenever they change (taken from ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/CoolLibs/CMakeUtils/blob/main/files_and_folders.cmake"},"Cool"),"):"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},'#! Copies FILE to the directory where the executable of your TARGET will be created\n#  FILE can be either an absolute or a relative path. If it is relative it will be relative to ${CMAKE_SOURCE_DIR}.\n#  Unlike the default CMake functions this one will re-copy the file whenever it changes\nfunction(copy_file TARGET FILE)\n    # Get the part of the file path relative to the top-level CMakeLists.txt\n    cmake_path(RELATIVE_PATH FILE BASE_DIRECTORY ${CMAKE_SOURCE_DIR} OUTPUT_VARIABLE FILE_RELATIVE_PATH)\n    if (NOT FILE_RELATIVE_PATH)\n        set(FILE_RELATIVE_PATH ${FILE})\n    endif()\n    # Add the copy command\n    set(DUMMY_OUTPUT_NAME ${CMAKE_CURRENT_BINARY_DIR}/DUMMY_${FILE_RELATIVE_PATH}_${TARGET})\n    add_custom_command(\n        COMMENT "Copying \\"${FILE_RELATIVE_PATH}\\""\n        OUTPUT ${DUMMY_OUTPUT_NAME}\n        COMMAND ${CMAKE_COMMAND} -E make_directory ${DUMMY_OUTPUT_NAME} # Create a dummy directory that CMake will use as a timestamp reference to know if the actual file has changed, when it checks for the OUTPUT (unfortunately OUTPUT can\'t use a generator expression so we can\'t use our actual output file as the OUTPUT)\n        COMMAND ${CMAKE_COMMAND} -E copy ${CMAKE_SOURCE_DIR}/${FILE_RELATIVE_PATH} ${OUT_DIR}/${FILE_RELATIVE_PATH} # Actual copy of the file to the destination\n        MAIN_DEPENDENCY ${FILE}\n    )\n    target_sources(${TARGET} PRIVATE ${FILE}) # Required for the custom command to be run when we build our target\nendfunction()\n\n#! Copies FOLDER and all its files to the directory where the executable of your TARGET will be created\n#  FOLDER can be either an absolute or a relative path. If it is relative it will be relative to ${CMAKE_SOURCE_DIR}.\n#  Unlike the default CMake functions this one will re-copy the files of the folder whenever they change or a file is added\nfunction(copy_folder TARGET FOLDER)\n    file(GLOB_RECURSE FILES CONFIGURE_DEPENDS ${FOLDER}/*)\n    foreach(FILE ${FILES})\n        copy_file(${TARGET} ${FILE} ${OUT_DIR})\n    endforeach()\nendfunction()\n')),(0,s.kt)("p",null,"You can either copy these functions into your project, or use ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/CoolLibs/CMakeUtils"},"this small library")," (Which is the recommended way because you are guaranteed that it will be up-to-date)."),(0,s.kt)("h3",{id:"glob"},"GLOB"),(0,s.kt)("p",null,"If you don't want to have to list all your ",(0,s.kt)("em",{parentName:"p"},".cpp")," files manually in your ",(0,s.kt)("em",{parentName:"p"},"CMakeLists.txt")," you can use "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"file(GLOB_RECURSE MY_SOURCES CONFIGURE_DEPENDS src/*)\n")),(0,s.kt)("p",null,"It will grab the list of all ",(0,s.kt)("em",{parentName:"p"},".cpp")," files in ",(0,s.kt)("em",{parentName:"p"},"src")," ant put then in ",(0,s.kt)("inlineCode",{parentName:"p"},"MY_SOURCES"),"."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("inlineCode",{parentName:"p"},"GLOB_RECURSE")," means that it will also find files that are in the subdirectories of ",(0,s.kt)("em",{parentName:"p"},"src"),". If you only want to find the files at the first level of ",(0,s.kt)("em",{parentName:"p"},"src")," you can use ",(0,s.kt)("inlineCode",{parentName:"p"},"GLOB")," instead.")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("inlineCode",{parentName:"p"},"CONFIGURE_DEPENDS")," means that CMake will check before every build to see if files were added or deleted, and if so it will update accordingly. Without it you would need to manually tell CMake to reconfigure each time you add or remove a file."))),(0,s.kt)("p",null,"You can then use that list of files like so:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"add_executable(${PROJECT_NAME} ${MY_SOURCES})\n")),(0,s.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"warning")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Every CMake expert will tell you that you should never use ",(0,s.kt)("inlineCode",{parentName:"p"},"file(GLOB)")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"file(GLOB_RECURSE)"),". The reason is always the same and can be found in the ",(0,s.kt)("a",{parentName:"p",href:"https://cmake.org/cmake/help/latest/command/file.html#filesystem"},"official CMake documentation"),":"),(0,s.kt)("blockquote",{parentName:"div"},(0,s.kt)("p",{parentName:"blockquote"},"We do not recommend using GLOB to collect a list of source files from your source tree. If no CMakeLists.txt file changes when a source is added or removed then the generated build system cannot know when to ask CMake to regenerate. The ",(0,s.kt)("inlineCode",{parentName:"p"},"CONFIGURE_DEPENDS")," flag may not work reliably on all generators, or if a new generator is added in the future that cannot support it, projects using it will be stuck. Even if ",(0,s.kt)("inlineCode",{parentName:"p"},"CONFIGURE_DEPENDS")," works reliably, there is still a cost to perform the check on every rebuild.")),(0,s.kt)("p",{parentName:"div"},"I disagree with it though, since to me maintaining a list of my ",(0,s.kt)("em",{parentName:"p"},".cpp")," files in my ",(0,s.kt)("em",{parentName:"p"},"CMakeLists.txt")," is more of a hassle than having to refresh CMake manually when I add or remove a file. (And ",(0,s.kt)("inlineCode",{parentName:"p"},"CONFIGURE_DEPENDS")," makes it even less of a hassle)."),(0,s.kt)("p",{parentName:"div"},"Now that you have the arguments from both sides, pick your poison. "))),(0,s.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"If it is hard to add new files to your codebase people will tend to try and avoid it, and will put more things in one single file, which might not be desirable. If you want to encourage people to write many small files, using ",(0,s.kt)("inlineCode",{parentName:"p"},"GLOB_RECURSE")," might be a good idea."))),(0,s.kt)("h3",{id:"precompiled-header"},"Precompiled header"),(0,s.kt)("p",null,"A precompiled header is pretty useful (see ",(0,s.kt)(l.Z,{slug:"precompiled-header",mdxType:"LessonLink"}),").\nYou can create one with CMake using ",(0,s.kt)("a",{parentName:"p",href:"https://cmake.org/cmake/help/git-stage/command/target_precompile_headers.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_precompile_headers")),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_precompile_headers(Cool PUBLIC\n    <vector>\n    <string>\n    <memory>\n    <functional>\n    <imgui/imgui.h>\n    <imgui/misc/cpp/imgui_stdlib.h>\n    <Cool/Log/Log.h>\n)\n")),(0,s.kt)("h2",{id:"cmake-for-library-authors"},"CMake for library authors"),(0,s.kt)("p",null,"As a library, your ",(0,s.kt)("em",{parentName:"p"},"CMakeLists.txt")," has one goal: define a target containing all the required information for people to link to your library.\nUsers should only have to do"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"add_subdirectory(libname)\ntarget_link_libraries(${PROJECT_NAME} PRIVATE libname)\n")),(0,s.kt)("p",null,"This is possible because a target can store a lot of things: the sources, the include directories, the compile definitions, ",(0,s.kt)("em",{parentName:"p"},"etc.")," (this information is known as ",(0,s.kt)("em",{parentName:"p"},"requirements")," in the literature). When users call ",(0,s.kt)("inlineCode",{parentName:"p"},"target_link_libraries(${PROJECT_NAME} PRIVATE libname)")," all this information is propagated to ",(0,s.kt)("inlineCode",{parentName:"p"},"${PROJECT_NAME}")," by CMake so that our main target will get the proper includes and so on."),(0,s.kt)("p",null,(0,s.kt)("em",{parentName:"p"},"If you want to have a look at a real-world example of modern cmake, check out ",(0,s.kt)("a",{parentName:"em",href:"https://github.com/julesfouchy/p6/blob/main/CMakeLists.txt"},"p6")," (small library) or ",(0,s.kt)("a",{parentName:"em",href:"https://github.com/CoolLibs/Cool/blob/main/CMakeLists.txt"},"Cool")," (big framework).")),(0,s.kt)("h3",{id:"add_library"},"add_library()"),(0,s.kt)("p",null,"You create your library's target with"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"add_library(libname)\n")),(0,s.kt)("p",null,"(it is the equivalent of ",(0,s.kt)("inlineCode",{parentName:"p"},"add_executable(exename)"),")"),(0,s.kt)("h3",{id:"use-the-target_xxx-commands"},"Use the target_xxx() commands"),(0,s.kt)("p",null,"To set requirements of your library, always use a ",(0,s.kt)("inlineCode",{parentName:"p"},"target_xxx")," function. They all have alternatives without the ",(0,s.kt)("inlineCode",{parentName:"p"},"target_")," prefix, but those functions affect the global state instead of just your target, which is obviously bad! For example if your project uses ",(0,s.kt)("em",{parentName:"p"},"libA")," and ",(0,s.kt)("em",{parentName:"p"},"libB"),", you don't want ",(0,s.kt)("em",{parentName:"p"},"libB")," to see the include directories and settings of ",(0,s.kt)("em",{parentName:"p"},"libA"),"! These libraries should be completely independent!"),(0,s.kt)("p",null,"They are all used like so:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_xxx(target_name PRIVATE additional_parameters ...)\n")),(0,s.kt)("p",null,"You can also use ",(0,s.kt)("inlineCode",{parentName:"p"},"PUBLIC")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"INTERFACE")," instead of ",(0,s.kt)("inlineCode",{parentName:"p"},"PRIVATE")," (see ",(0,s.kt)("a",{parentName:"p",href:"#private--public--interface"},"PRIVATE | PUBLIC | INTERFACE"),")."),(0,s.kt)("p",null,"Here are the most important functions:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://cmake.org/cmake/help/latest/command/target_include_directories.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_include_directories"))," Specifies the location of the include files. For a library I would suggest to put them in a ",(0,s.kt)("em",{parentName:"li"},"include/libname")," folder and to do ",(0,s.kt)("inlineCode",{parentName:"li"},"target_include_directories(libname PUBLIC include)")," so that the include files are accessed with ",(0,s.kt)("inlineCode",{parentName:"li"},"#include <libname/some_file.hpp>"),". It can also be nice to add a ",(0,s.kt)("inlineCode",{parentName:"li"},"libname.hpp")," file that includes all the other header files. It allows users to include the whole library at once with ",(0,s.kt)("inlineCode",{parentName:"li"},"#include <libname/libname.hpp>"),"."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://cmake.org/cmake/help/latest/command/target_sources.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_sources"))," Adds source files to the target (appends to the list that was already set with ",(0,s.kt)("inlineCode",{parentName:"li"},"add_library(libname some_file.cpp)"),"). It can be useful for example if you only need some files in some situations:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"add_library(Cool src/Cool.cpp)\nif (USE_OPENGL)\n    target_sources(Cool PRIVATE src/OpenGL/opengl.cpp)\nelseif (USE_VULKAN)\n    target_sources(Cool PRIVATE src/Vulkan/vulkan.cpp)\nendif()\n")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://cmake.org/cmake/help/latest/command/target_link_libraries.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_link_libraries"))," To add another target as a dependency."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://cmake.org/cmake/help/latest/command/target_compile_options.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_compile_options"))," We have seen it in ",(0,s.kt)("a",{parentName:"li",href:"#enabling-warnings"},"Enabling warnings"),"."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://cmake.org/cmake/help/latest/command/target_compile_features.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_compile_features"))," We have seen it in ",(0,s.kt)("a",{parentName:"li",href:"#setting-your-c-version"},"Setting your C++ version"),"."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://cmake.org/cmake/help/latest/command/target_compile_definitions.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_compile_definitions"))," We have seen it in ",(0,s.kt)("a",{parentName:"li",href:"#adding-define-compile-definitions"},"Adding ",(0,s.kt)("inlineCode",{parentName:"a"},"#define")," (compile definitions)"),"."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://cmake.org/cmake/help/git-stage/command/target_precompile_headers.html"},(0,s.kt)("inlineCode",{parentName:"a"},"target_precompile_headers"))," We have seen it in ",(0,s.kt)("a",{parentName:"li",href:"#precompiled-header"},"Precompiled header"),".")),(0,s.kt)("h3",{id:"private--public--interface"},"PRIVATE | PUBLIC | INTERFACE"),(0,s.kt)("p",null,"This is the visibility of the requirements set with ",(0,s.kt)("inlineCode",{parentName:"p"},"target_xxx()"),"."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("inlineCode",{parentName:"p"},"PRIVATE"),": Only this target will have access to these requirements. When other targets link to this one with ",(0,s.kt)("inlineCode",{parentName:"p"},"target_link_libraries()")," they will not get the private requirements. For example your warning level should always be private because you do not want to impose it on your dependents:"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_compile_options(libname PRIVATE -Werror -Wall)\n"))),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("inlineCode",{parentName:"p"},"PUBLIC"),": This target and all of its dependents will be able to access the public requirements. For example if some include directories are used both internaly and by users to access the library, then they should be public:"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_include_directories(libname PUBLIC include)\n")),(0,s.kt)("p",{parentName:"li"}," Also if you use some other library in your headers, then it will be visible by your users when they include your header, so you need to provide your users with the library:"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_link_libraries(Cool PUBLIC glad)\n"))),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("inlineCode",{parentName:"p"},"INTERFACE"),": This target will ",(0,s.kt)("em",{parentName:"p"},"not")," have access to these requirements but its dependents will. It is a bit peculiar but can be used for example in a header-only library: the library itself does not need to see the include directory (since there is no source files at all to build), but the dependents do:"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_include_directories(my-header-only-lib INTERFACE include)\n")),(0,s.kt)("p",{parentName:"li"},"This can also be used if the user-facing headers are different from the private ones (e.g. if you have many headers but only want users to see a ",(0,s.kt)("inlineCode",{parentName:"p"},"libname.hpp")," header that includes all the other ones):"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"target_include_directories(libname INTERFACE include) # The include folder is only used by users and only contains libname.hpp\ntarget_include_directories(libname PRIVATE src) # All the headers that we use internally are in src (alongside the .cpp)\n")))),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Try to keep things private as much as possible! Don't pollute others for no reason."))),(0,s.kt)("h3",{id:"add-an-alias-containing-"},'Add an alias containing "::"'),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-cmake"},"add_library(p6)\nadd_library(p6::p6 ALIAS p6)\n")),(0,s.kt)("p",null,"People care about having a name with ",(0,s.kt)("inlineCode",{parentName:"p"},"::")," because ",(0,s.kt)("inlineCode",{parentName:"p"},"target_link_libraries()")," can do many different things and if you make a typo in the name of the target it will ignore it instead of reporting an error. It is only if you have a ",(0,s.kt)("inlineCode",{parentName:"p"},"::")," in the name that ",(0,s.kt)("inlineCode",{parentName:"p"},"target_link_libraries()")," will know that it can't be anything but a target and will raise an error if the name doesn't actually correspond to a target."),(0,s.kt)("p",null,"As far as the alias name goes, people have different conventions like ",(0,s.kt)("inlineCode",{parentName:"p"},"p6::p6"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"p6::core")," ",(0,s.kt)("em",{parentName:"p"},"etc.")," Pick one that you like."),(0,s.kt)("h2",{id:"going-further"},"Going further"),(0,s.kt)(r.Z,{resources:[{title:"Using Modern CMake Patterns to Enforce a Good Modular Design",author:"Mathieu Ropert",link:"https://youtu.be/eC9-iRN2b04",duration:"1h"},{title:"Modern CMake",author:"Henry Schreiner",link:"https://cliutils.gitlab.io/modern-cmake/",duration:"short online book"},{title:"Embracing Modern CMake",author:"Stephen Kelly",link:"https://youtu.be/mn1ZnO3MtVk",duration:"1h"},{title:"C++ Weekly - Ep 208 - The Ultimate CMake / C++ Quick Start",author:"Jason Turner",link:"https://youtu.be/YbgH7yat-Jo",duration:"30min"}],mdxType:"GoingFurther"}))}h.isMDXComponent=!0},26:function(e,t,n){t.Z=n.p+"assets/images/cmake-21825b581e75c31942e4ad8b39aa6a94.png"},4820:function(e){e.exports=JSON.parse('[{"title":"Install a compiler","benefit":5,"easiness":5,"level":1,"bias":1,"tags":["Tools","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/install-a-compiler","slug":"install-a-compiler","priority":1,"points":0.5},{"title":"Use an IDE","benefit":5,"easiness":5,"level":1,"tags":["Tools"],"link":"/Learn--Clean-Code-With-Cpp/lessons/ide","slug":"ide","priority":1,"points":0.5},{"title":"Use Git","benefit":5,"easiness":4,"level":1,"bias":1,"tags":["Tools","Git"],"link":"/Learn--Clean-Code-With-Cpp/lessons/git","slug":"git","priority":0.9875,"points":1},{"title":"Use a debugger","benefit":5,"easiness":4,"level":1,"tags":["Tools"],"link":"/Learn--Clean-Code-With-Cpp/lessons/debugger","slug":"debugger","priority":0.9875,"points":1},{"title":"Use a formatting tool","benefit":5,"easiness":4,"level":1,"tags":["Tools"],"link":"/Learn--Clean-Code-With-Cpp/lessons/formatting-tool","slug":"formatting-tool","priority":0.9875,"points":1},{"title":"Use static analysers","benefit":5,"easiness":3,"level":1,"tags":["Tools"],"link":"/Learn--Clean-Code-With-Cpp/lessons/static-analysers","slug":"static-analysers","priority":0.975,"points":1.5},{"title":"Naming","benefit":5,"easiness":1,"level":1,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/naming","slug":"naming","priority":0.95,"points":2.5},{"title":"Stack vs Heap","benefit":4,"easiness":3,"level":1,"tags":["Performant Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/stack-vs-heap","slug":"stack-vs-heap","priority":0.9375,"points":1.5},{"title":"Consistency in style","benefit":2,"easiness":5,"level":1,"tags":["Beautiful Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/consistency-in-style","slug":"consistency-in-style","priority":0.8875000000000001,"points":0.5},{"title":"Make it work, then make it good","benefit":5,"easiness":4,"level":2,"bias":1,"tags":["Workflow"],"link":"/Learn--Clean-Code-With-Cpp/lessons/make-it-work-then-make-it-good","slug":"make-it-work-then-make-it-good","priority":0.7875000000000001,"points":0.35714285714285715},{"title":"Prefer free functions","benefit":5,"easiness":3,"level":2,"bias":5,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/prefer-free-functions","slug":"prefer-free-functions","priority":0.775,"points":0.5357142857142857},{"title":"Design cohesive classes","benefit":5,"easiness":3,"level":2,"bias":4,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/design-cohesive-classes","slug":"design-cohesive-classes","priority":0.775,"points":0.5357142857142857},{"title":"Use structs to group data","benefit":5,"easiness":3,"level":2,"bias":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/use-structs-to-group-data","slug":"use-structs-to-group-data","priority":0.775,"points":0.5357142857142857},{"title":"Write small functions","benefit":5,"easiness":3,"level":2,"bias":2,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/write-small-functions","slug":"write-small-functions","priority":0.775,"points":0.5357142857142857},{"title":"DRY: Don\'t repeat yourself","benefit":5,"easiness":2,"level":2,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/dry-dont-repeat-yourself","slug":"dry-dont-repeat-yourself","priority":0.7625000000000001,"points":0.7142857142857143},{"title":"Enums","benefit":4,"easiness":5,"level":2,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/enums","slug":"enums","priority":0.7625000000000001,"points":0.17857142857142858},{"title":"Split problems in small pieces","benefit":5,"easiness":1,"level":2,"tags":["Workflow"],"link":"/Learn--Clean-Code-With-Cpp/lessons/split-problems-in-small-pieces","slug":"split-problems-in-small-pieces","priority":0.75,"points":0.8928571428571429},{"title":"Composition over Inheritance","benefit":4,"easiness":2,"level":2,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/composition-over-inheritance","slug":"composition-over-inheritance","priority":0.7250000000000001,"points":0.7142857142857143},{"title":"std::vector","benefit":5,"easiness":5,"level":3,"tags":["Clean Code","Performant Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/vector","slug":"vector","priority":0.6,"points":0.045454545454545456},{"title":"Documentation","benefit":5,"easiness":3,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/documentation","slug":"documentation","priority":0.575,"points":0.13636363636363635},{"title":"Minimize dependencies","benefit":5,"easiness":3,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/minimize-dependencies","slug":"minimize-dependencies","priority":0.575,"points":0.13636363636363635},{"title":"Strong Types","benefit":5,"easiness":3,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/strong-types","slug":"strong-types","priority":0.575,"points":0.13636363636363635},{"title":"Use libraries","benefit":5,"easiness":3,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/use-libraries","slug":"use-libraries","priority":0.575,"points":0.13636363636363635},{"title":"assert","benefit":4,"easiness":5,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/assert","slug":"assert","priority":0.5625,"points":0.045454545454545456},{"title":"auto","benefit":4,"easiness":5,"level":3,"tags":["Beautiful Code","Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/auto","slug":"auto","priority":0.5625,"points":0.045454545454545456},{"title":"Range-based for loop","benefit":4,"easiness":5,"level":3,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/range-based-for-loop","slug":"range-based-for-loop","priority":0.5625,"points":0.045454545454545456},{"title":"Testing","benefit":5,"easiness":2,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/testing","slug":"testing","priority":0.5625,"points":0.18181818181818182},{"title":"Lambda functions","benefit":4,"easiness":4,"level":3,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/lambda","slug":"lambda","priority":0.55,"points":0.09090909090909091},{"title":"Master your IDE","benefit":4,"easiness":4,"level":3,"tags":["Tools"],"link":"/Learn--Clean-Code-With-Cpp/lessons/master-your-ide","slug":"master-your-ide","priority":0.55,"points":0.09090909090909091},{"title":"std::optional","benefit":4,"easiness":4,"level":3,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/optional","slug":"optional","priority":0.55,"points":0.09090909090909091},{"title":"Single Source of Truth","benefit":4,"easiness":4,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/single-source-of-truth","slug":"single-source-of-truth","priority":0.55,"points":0.09090909090909091},{"title":"Code reviews","benefit":4,"easiness":3,"level":3,"tags":["Workflow"],"link":"/Learn--Clean-Code-With-Cpp/lessons/code-reviews","slug":"code-reviews","priority":0.5375,"points":0.13636363636363635},{"title":"const","benefit":4,"easiness":3,"level":3,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/const","slug":"const","priority":0.5375,"points":0.13636363636363635},{"title":"Don\'t overfocus on performance","benefit":4,"easiness":3,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/dont-overfocus-on-performance","slug":"dont-overfocus-on-performance","priority":0.5375,"points":0.13636363636363635},{"title":"Git submodules","benefit":4,"easiness":3,"level":3,"tags":["Tools","Git"],"link":"/Learn--Clean-Code-With-Cpp/lessons/git-submodules","slug":"git-submodules","priority":0.5375,"points":0.13636363636363635},{"title":"STL algorithms","benefit":4,"easiness":3,"level":3,"tags":["Clean Code","Performant Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/stl-algorithms","slug":"stl-algorithms","priority":0.5375,"points":0.13636363636363635},{"title":"Debug vs Release","benefit":3,"easiness":5,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/debug-vs-release","slug":"debug-vs-release","priority":0.525,"points":0.045454545454545456},{"title":"Immediately Invoked Function","benefit":3,"easiness":5,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/immediately-invoked-function","slug":"immediately-invoked-function","priority":0.525,"points":0.045454545454545456},{"title":"Markdown","benefit":3,"easiness":5,"level":3,"tags":["Tools"],"link":"/Learn--Clean-Code-With-Cpp/lessons/markdown","slug":"markdown","priority":0.525,"points":0.045454545454545456},{"title":"Smart Pointers","benefit":3,"easiness":5,"level":3,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/smart-pointers","slug":"smart-pointers","priority":0.525,"points":0.045454545454545456},{"title":"std::function","benefit":3,"easiness":5,"level":3,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/std-function","slug":"std-function","priority":0.525,"points":0.045454545454545456},{"title":"Dependency Injection","benefit":3,"easiness":4,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/dependency-injection","slug":"dependency-injection","priority":0.5125,"points":0.09090909090909091},{"title":"Error Handling","benefit":3,"easiness":4,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/error-handling","slug":"error-handling","priority":0.5125,"points":0.09090909090909091},{"title":"Git Pull Requests","benefit":3,"easiness":4,"level":3,"tags":["Tools","Git"],"link":"/Learn--Clean-Code-With-Cpp/lessons/git-pull-request","slug":"git-pull-request","priority":0.5125,"points":0.09090909090909091},{"title":"Advanced Git features","benefit":3,"easiness":3,"level":3,"tags":["Tools","Git"],"link":"/Learn--Clean-Code-With-Cpp/lessons/advanced-git-features","slug":"advanced-git-features","priority":0.5,"points":0.13636363636363635},{"title":"CMake","benefit":3,"easiness":3,"level":3,"tags":["C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/cmake","slug":"cmake","priority":0.5,"points":0.13636363636363635},{"title":"Functional programming","benefit":3,"easiness":3,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/functional-programming","slug":"functional-programming","priority":0.5,"points":0.13636363636363635},{"title":"Move semantics","benefit":3,"easiness":3,"level":3,"tags":["Performant Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/move-semantics","slug":"move-semantics","priority":0.5,"points":0.13636363636363635},{"title":"The Rule of 5","benefit":3,"easiness":3,"level":3,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/rule-of-5","slug":"rule-of-5","priority":0.5,"points":0.13636363636363635},{"title":"State and Strategy","benefit":3,"easiness":3,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/state-and-strategy","slug":"state-and-strategy","priority":0.5,"points":0.13636363636363635},{"title":"std::variant","benefit":3,"easiness":3,"level":3,"tags":["Clean Code","Performant Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/variant","slug":"variant","priority":0.5,"points":0.13636363636363635},{"title":"Cache and Branches","benefit":3,"easiness":2,"level":3,"tags":["Performant Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/cache-and-branches","slug":"cache-and-branches","priority":0.4875,"points":0.18181818181818182},{"title":"Multithreading","benefit":3,"easiness":2,"level":3,"tags":["Performant Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/multithreading","slug":"multithreading","priority":0.4875,"points":0.18181818181818182},{"title":"Polymorphism","benefit":3,"easiness":2,"level":3,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/polymorphism","slug":"polymorphism","priority":0.4875,"points":0.18181818181818182},{"title":"Space out your code","benefit":2,"easiness":5,"level":3,"tags":["Beautiful Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/space-out-your-code","slug":"space-out-your-code","priority":0.4875,"points":0.045454545454545456},{"title":"Watch conferences","benefit":5,"easiness":3,"level":4,"tags":["Workflow"],"link":"/Learn--Clean-Code-With-Cpp/lessons/watch-conferences","slug":"watch-conferences","priority":0.3749999999999999,"points":0.0625},{"title":"Write libraries","benefit":5,"easiness":3,"level":4,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/write-libraries","slug":"write-libraries","priority":0.3749999999999999,"points":0.0625},{"title":"Dear ImGui","benefit":5,"easiness":2,"level":4,"tags":["Libraries & Frameworks"],"link":"/Learn--Clean-Code-With-Cpp/lessons/dear-imgui","slug":"dear-imgui","priority":0.36249999999999993,"points":0.08333333333333333},{"title":"Designated Initializers","benefit":4,"easiness":5,"level":4,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/designated_initializers","slug":"designated_initializers","priority":0.36249999999999993,"points":0.020833333333333332},{"title":"std::string and std::string_view","benefit":4,"easiness":4,"level":4,"tags":["C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/string-and-string-view","slug":"string-and-string-view","priority":0.3499999999999999,"points":0.041666666666666664},{"title":"Static site generators","benefit":4,"easiness":3,"level":4,"tags":["Tools"],"link":"/Learn--Clean-Code-With-Cpp/lessons/static-site-generators","slug":"static-site-generators","priority":0.3374999999999999,"points":0.0625},{"title":"Deleted functions","benefit":3,"easiness":5,"level":4,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/deleted-functions","slug":"deleted-functions","priority":0.32499999999999996,"points":0.020833333333333332},{"title":"Type erasure","benefit":4,"easiness":2,"level":4,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/type-erasure","slug":"type-erasure","priority":0.32499999999999996,"points":0.08333333333333333},{"title":"wasm and electron","benefit":4,"easiness":2,"level":4,"tags":["Libraries & Frameworks"],"link":"/Learn--Clean-Code-With-Cpp/lessons/wasm-and-electron","slug":"wasm-and-electron","priority":0.32499999999999996,"points":0.08333333333333333},{"title":"Scope guard","benefit":3,"easiness":4,"level":4,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/scope-guard","slug":"scope-guard","priority":0.31249999999999994,"points":0.041666666666666664},{"title":"C++ casts","benefit":3,"easiness":3,"level":4,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/cpp-casts","slug":"cpp-casts","priority":0.29999999999999993,"points":0.0625},{"title":"Measuring performance","benefit":3,"easiness":3,"level":4,"tags":["Performant Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/measuring-performance","slug":"measuring-performance","priority":0.29999999999999993,"points":0.0625},{"title":"Precompiled Header","benefit":3,"easiness":3,"level":4,"tags":["C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/precompiled-header","slug":"precompiled-header","priority":0.29999999999999993,"points":0.0625},{"title":"<random>","benefit":3,"easiness":3,"level":4,"tags":["C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/random","slug":"random","priority":0.29999999999999993,"points":0.0625},{"title":"Linked lists","benefit":2,"easiness":5,"level":4,"tags":["Performant Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/linked-list","slug":"linked-list","priority":0.2874999999999999,"points":0.020833333333333332},{"title":"Avoid dead code","benefit":2,"easiness":3,"level":4,"tags":["Clean Code"],"link":"/Learn--Clean-Code-With-Cpp/lessons/avoid-dead-code","slug":"avoid-dead-code","priority":0.26249999999999996,"points":0.0625},{"title":"friend","benefit":1,"easiness":5,"level":4,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/friend","slug":"friend","priority":0.24999999999999994,"points":0.020833333333333332},{"title":"Pointers vs References","benefit":2,"easiness":2,"level":4,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/pointers-vs-references","slug":"pointers-vs-references","priority":0.24999999999999994,"points":0.08333333333333333},{"title":"Avoid nested namespaces","benefit":1,"easiness":5,"level":5,"tags":["Clean Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/avoid-nested-namespaces","slug":"avoid-nested-namespaces","priority":0.04999999999999999,"points":0},{"title":"#if defined()","benefit":1,"easiness":5,"level":5,"tags":["Beautiful Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/if-defined","slug":"if-defined","priority":0.04999999999999999,"points":0},{"title":"Trailing return type","benefit":1,"easiness":5,"level":5,"tags":["Beautiful Code","C++"],"link":"/Learn--Clean-Code-With-Cpp/lessons/trailing-return-type","slug":"trailing-return-type","priority":0.04999999999999999,"points":0}]')}}]);