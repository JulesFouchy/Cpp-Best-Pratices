<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Noughts and Crosses | Clean Code with C++</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://julesfouchy.github.io//Learn--Clean-Code-With-Cpp/assignment/noughts-and-crosses/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Noughts and Crosses | Clean Code with C++"><meta data-react-helmet="true" name="description" content="Today is a big day because for our third game we are leaving the console behind! We will display some actual graphics and the user will be able to click in the window to play!"><meta data-react-helmet="true" property="og:description" content="Today is a big day because for our third game we are leaving the console behind! We will display some actual graphics and the user will be able to click in the window to play!"><link data-react-helmet="true" rel="icon" href="/Learn--Clean-Code-With-Cpp/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://julesfouchy.github.io//Learn--Clean-Code-With-Cpp/assignment/noughts-and-crosses/"><link data-react-helmet="true" rel="alternate" href="https://julesfouchy.github.io//Learn--Clean-Code-With-Cpp/assignment/noughts-and-crosses/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://julesfouchy.github.io//Learn--Clean-Code-With-Cpp/assignment/noughts-and-crosses/" hreflang="x-default"><link rel="stylesheet" href="/Learn--Clean-Code-With-Cpp/assets/css/styles.1d8c17bb.css">
<link rel="preload" href="/Learn--Clean-Code-With-Cpp/assets/js/runtime~main.6afa119a.js" as="script">
<link rel="preload" href="/Learn--Clean-Code-With-Cpp/assets/js/main.7147d763.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Learn--Clean-Code-With-Cpp/"><div class="navbar__logo"><img src="/Learn--Clean-Code-With-Cpp/img/favicon-32x32.png" alt="Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/Learn--Clean-Code-With-Cpp/img/favicon-32x32.png" alt="Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/Learn--Clean-Code-With-Cpp/lessons/">Lessons</a><a class="navbar__item navbar__link" href="/Learn--Clean-Code-With-Cpp/progress/">Progress</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Learn--Clean-Code-With-Cpp/assignment/">Assignment</a><a class="navbar__item navbar__link" href="/Learn--Clean-Code-With-Cpp/resources/">Resources</a><a class="navbar__item navbar__link" href="/Learn--Clean-Code-With-Cpp/tools/">Tools</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp/issues/new/choose" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-issues-link" aria-label="GitHub issues" title="Ask a question"></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Learn--Clean-Code-With-Cpp/assignment/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Learn--Clean-Code-With-Cpp/assignment/project-setup/">Setting up a project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Learn--Clean-Code-With-Cpp/assignment/guess-the-number/">Guess the number</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Learn--Clean-Code-With-Cpp/assignment/hangman/">Hangman</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Learn--Clean-Code-With-Cpp/assignment/adding-a-menu/">Adding a menu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Learn--Clean-Code-With-Cpp/assignment/noughts-and-crosses/">Noughts and Crosses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Learn--Clean-Code-With-Cpp/assignment/connect-4/">Connect 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Learn--Clean-Code-With-Cpp/assignment/going-further/">Going further</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Noughts and Crosses</h1></header><p>Today is a big day because for our third game we are leaving the console behind! We will display some actual graphics and the user will be able to click in the window to play!</p><p>We are gonna use the <a href="https://github.com/JulesFouchy/p6" target="_blank" rel="noopener noreferrer"><em>p6</em> library</a> which makes it very easy. Its API is strongely inspired by <a href="https://p5js.org/" target="_blank" rel="noopener noreferrer"><em>p5.js</em></a> which you might already be familiar with.</p><img src="/Learn--Clean-Code-With-Cpp/img/noughts-and-crosses.gif" style="width:50%"><h2 class="anchor anchorWithStickyNavbar_mojV" id="adding-the-library">Adding the library<a class="hash-link" href="#adding-the-library" title="Direct link to heading">â€‹</a></h2><p>First you will need to add the library to your project. This might be a great time to read the lessons on <a href="/Learn--Clean-Code-With-Cpp/lessons/cmake">CMake</a> and <a href="/Learn--Clean-Code-With-Cpp/lessons/git-submodules">Git submodules</a>.<br>
Also the examples of the library might help you getting started. (In order to find them, browse <a href="https://github.com/JulesFouchy/p6" target="_blank" rel="noopener noreferrer">the GitHub of the library</a>).</p><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/9f1fdf44859f1576d783abb4b3c13526316d5dd3" target="_blank"><i>Commit</i></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="first-steps">First steps<a class="hash-link" href="#first-steps" title="Direct link to heading">â€‹</a></h2><p>In order to get familiar with the library, start by trying to do some very simple things:</p><ul><li>First create a window</li><li>Then display a square in that window</li></ul><p>Again, the library provides all the examples you will need to do that ðŸ˜‰</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="drawing-a-board">Drawing a board<a class="hash-link" href="#drawing-a-board" title="Direct link to heading">â€‹</a></h2><p>We need a <em>3 by 3</em> board. We will make our function a little more general than that since making an <em>n by n</em> board is as simple as a <em>3 by 3</em>.
But handling a board that is not square adds a little bit of complexity, and since we don&#x27;t need it for now we will only make a function that can draw square boards, with as many rows as columns.</p><div class="codeBlockContainer_I0IT language-cpp theme-code-block"><div class="codeBlockContent_wNvx cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">draw_board</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p6</span><span class="token operator" style="color:#393A34">::</span><span class="token plain">Context</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img src="/Learn--Clean-Code-With-Cpp/assets/images/board-62a48f836cc4a4322ef3ad6c21a701f2.png" width="2000" height="835"></p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>The <a href="https://julesfouchy.github.io/p6-docs/reference/math#map" target="_blank" rel="noopener noreferrer">map</a> function from <em>p6</em> might be useful to convert your loop indices into a position in the window.</p></div></div><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/e643b41a4b81f4c66642239d03746bb13ccd600f" target="_blank"><i>Commit</i></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="detecting-which-cell-is-hovered">Detecting which cell is hovered<a class="hash-link" href="#detecting-which-cell-is-hovered" title="Direct link to heading">â€‹</a></h2><p>In order to click and place our noughts and crosses we first need to be able to know which cell is currently hovered by the mouse.</p><p>This time I want to give you a little more room to think about the design, so I am not going to give you the signature of the function(s) you need to write.</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Tip nÂ°1</summary><div><div class="collapsibleContent_i85q"><div>What will you return from this function? Or in other words: <i>how do you represent a cell?</i><br>It is probably a good occasion to create a little struct (see <a href="/Learn--Clean-Code-With-Cpp/lessons/use-structs-to-group-data">Use structs to group data</a>)</div><br><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>My solution</summary><div><div class="collapsibleContent_i85q"><div>I chose to represent a cell with a 2D index:<div class="codeBlockContainer_I0IT language-cpp theme-code-block"><div class="codeBlockContent_wNvx cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">CellIndex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div>It starts as (0, 0) in the bottom left and increases one by one. I then added functions that convert from cell_index to position in the window and vice-versa which allows we to do both my drawing and my hover detection with this CellIndex type.</div></div></div></details></div></div></details><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Tip nÂ°2</summary><div><div class="collapsibleContent_i85q"><div>It is possible that there is no cell under the mouse, if we are outside the board. How will you handle that?<br>Your return type probably needs to be able to indicate the absence of a cell.<br>Since C++17 we have <a href="/Learn--Clean-Code-With-Cpp/lessons/optional">std::optional</a> that is made exactly for that purpose!</div></div></div></details><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/6dbc007e3f95dfe7c71006f3f52e042f0b6197b2" target="_blank"><i>Commit</i></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="drawing-the-noughts-and-crosses">Drawing the noughts and crosses<a class="hash-link" href="#drawing-the-noughts-and-crosses" title="Direct link to heading">â€‹</a></h2><p>Add two functions <code>draw_nought</code> and <code>draw_cross</code>. You are free to draw them as you want (actually they don&#x27;t even need to be noughts and crosses).</p><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/54c9d01993848c70cd045bb497984caecc87a43c" target="_blank"><i>Commit</i></a><p><img src="/Learn--Clean-Code-With-Cpp/assets/images/noughts-and-crosses-drawing-79f72d390fb5643610ef351bf75ed4d1.png" width="2000" height="838"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="storing-the-state-of-the-game">Storing the state of the game<a class="hash-link" href="#storing-the-state-of-the-game" title="Direct link to heading">â€‹</a></h2><p>Now to start playing we need to be able to remember where noughts and crosses have been added to the board. Basically we need a <code>Board</code> object that, for any given cell, can tell us if there is a cross, a nought, or nothing on that cell.</p><p>To make the syntax really nice we are gonna wrap a <code>std::array</code> in our own <code>Board</code> type and add a <code>[]</code> operator so that we can index into it using 2D indices:</p><div class="codeBlockContainer_I0IT language-cpp theme-code-block"><div class="codeBlockContent_wNvx cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Player</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Noughts</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Crosses</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> size</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Board</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    std</span><span class="token operator" style="color:#393A34">::</span><span class="token plain">optional</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Player</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">operator</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CellIndex index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token operator" style="color:#393A34">::</span><span class="token plain">optional</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Player</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">operator</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CellIndex index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Then we can draw all the noughts and crosses that are stored in this board:</p><div class="codeBlockContainer_I0IT language-cpp theme-code-block"><div class="codeBlockContent_wNvx cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> size</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">draw_noughts_and_crosses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Board</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">size</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p6</span><span class="token operator" style="color:#393A34">::</span><span class="token plain">Context</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/7c8a5badc8a058465cd72b4cbb882e63bd4eb664" target="_blank"><i>Commit</i></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="placing-noughts-and-crosses">Placing noughts and crosses<a class="hash-link" href="#placing-noughts-and-crosses" title="Direct link to heading">â€‹</a></h2><p>Then, when the player clicks on a cell, we want to add a nought or a cross in that cell.<br>
This can be done in the <a href="https://julesfouchy.github.io/p6-docs/reference/events#mouse_pressed" target="_blank" rel="noopener noreferrer">mouse_pressed</a> function of the p6 context:</p><div class="codeBlockContainer_I0IT language-cpp theme-code-block"><div class="codeBlockContent_wNvx cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mouse_pressed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p6</span><span class="token operator" style="color:#393A34">::</span><span class="token plain">MouseButton event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/63d8cc096ed71e840136e4bece45780cb197ac60" target="_blank"><i>Commit</i></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="previewing-the-placement">Previewing the placement<a class="hash-link" href="#previewing-the-placement" title="Direct link to heading">â€‹</a></h2><p>When the player is hovering a cell we want to show what symbol they are about to put. This helps with the readability of the game.</p><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/6036dd33652b03c45774c7563c3f759e05ad066c" target="_blank"><i>Commit</i></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="checking-for-the-end-of-the-game">Checking for the end of the game<a class="hash-link" href="#checking-for-the-end-of-the-game" title="Direct link to heading">â€‹</a></h2><p>We are almost done! We just have to check if one of the player has won, or if the game is over because the board is full.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="checking-that-the-board-is-full">Checking that the board is full<a class="hash-link" href="#checking-that-the-board-is-full" title="Direct link to heading">â€‹</a></h3><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/b06fcb78ed03127742838a89ecf1762bec0a9167" target="_blank"><i>Commit</i></a><h3 class="anchor anchorWithStickyNavbar_mojV" id="checking-that-a-player-has-won">Checking that a player has won<a class="hash-link" href="#checking-that-a-player-has-won" title="Direct link to heading">â€‹</a></h3><p>We need to check all the rows, all the columns, and all the diagonals. How are you gonna reuse the same code for the rows, the columns and the diagonals? This is not an easy question!</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Tip</summary><div><div class="collapsibleContent_i85q">You can use <a href="/Learn--Clean-Code-With-Cpp/lessons/std-function">std::function</a>.<br><br><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>More details</summary><div><div class="collapsibleContent_i85q">What differs between the rows, the columns and the diagonals is the way we index into the board. Basically we want a way to loop over any line. Well, we are gonna pass that behaviour to the function through a <i>std::function</i>:<div class="codeBlockContainer_I0IT language-cpp theme-code-block"><div class="codeBlockContent_wNvx cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">std</span><span class="token operator" style="color:#393A34">::</span><span class="token plain">optional</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Player</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_for_winner_on_line</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Board</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">board_size</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token operator" style="color:#393A34">::</span><span class="token plain">function</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token function" style="color:#d73a49">CellIndex</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> index_generator</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// TODO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details></div></div></details><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/1d4e373e08f3b0b4c150f6f1e25d68c49fd6ac88" target="_blank"><i>Commit</i></a><h2 class="anchor anchorWithStickyNavbar_mojV" id="refactoring">Refactoring<a class="hash-link" href="#refactoring" title="Direct link to heading">â€‹</a></h2><p>Congrats, you have finished a pretty nice game! Now all that there is left to do is to move your code into its own file and add this game to the menu.</p><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp--Project/commit/d79e7f02920fea4ff9aabc3d80d27b2ba839756c" target="_blank"><i>Commit</i></a></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Learn--Clean-Code-With-Cpp/assignment/adding-a-menu/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Adding a menu</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Learn--Clean-Code-With-Cpp/assignment/connect-4/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connect 4</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#adding-the-library" class="table-of-contents__link toc-highlight">Adding the library</a></li><li><a href="#first-steps" class="table-of-contents__link toc-highlight">First steps</a></li><li><a href="#drawing-a-board" class="table-of-contents__link toc-highlight">Drawing a board</a></li><li><a href="#detecting-which-cell-is-hovered" class="table-of-contents__link toc-highlight">Detecting which cell is hovered</a></li><li><a href="#drawing-the-noughts-and-crosses" class="table-of-contents__link toc-highlight">Drawing the noughts and crosses</a></li><li><a href="#storing-the-state-of-the-game" class="table-of-contents__link toc-highlight">Storing the state of the game</a></li><li><a href="#placing-noughts-and-crosses" class="table-of-contents__link toc-highlight">Placing noughts and crosses</a></li><li><a href="#previewing-the-placement" class="table-of-contents__link toc-highlight">Previewing the placement</a></li><li><a href="#checking-for-the-end-of-the-game" class="table-of-contents__link toc-highlight">Checking for the end of the game</a><ul><li><a href="#checking-that-the-board-is-full" class="table-of-contents__link toc-highlight">Checking that the board is full</a></li><li><a href="#checking-that-a-player-has-won" class="table-of-contents__link toc-highlight">Checking that a player has won</a></li></ul></li><li><a href="#refactoring" class="table-of-contents__link toc-highlight">Refactoring</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Other classes</div><ul class="footer__items"><li class="footer__item"><a href="https://julesfouchy.github.io/Learn--Generative-Art" target="_blank" rel="noopener noreferrer" class="footer__link-item">Generative Art</a></li><li class="footer__item"><a href="https://julesfouchy.github.io/Learn--Math-for-Art-and-Computer-Graphics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Math for Art and Computer Graphics</a></li></ul></div><div class="col footer__col"><div class="footer__title">Raise an issue!</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask a question</a></li><li class="footer__item"><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a mistake</a></li><li class="footer__item"><a href="https://github.com/JulesFouchy/Learn--Clean-Code-With-Cpp/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Give me feedback</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact Me</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/users/372812330742054914" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="mailto:jules.fouchy@ntymail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">E-Mail</a></li><li class="footer__item"><a href="https://github.com/JulesFouchy/JulesFouchy/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">These lessons were written by <a href="https://julesfouchy.github.io/">Jules Fouchy</a> and <a href="https://guillaumehaerinck.com/#/">Guillaume Haerinck</a><br>Copyright Â© 2022. Built with <a href="https://docusaurus.io/">Docusaurus</a>.<div>Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a> and <a href="https://www.flaticon.com/authors/justicon" title="justicon">justicon</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div></div></div></div></footer></div>
<script src="/Learn--Clean-Code-With-Cpp/assets/js/runtime~main.6afa119a.js"></script>
<script src="/Learn--Clean-Code-With-Cpp/assets/js/main.7147d763.js"></script>
</body>
</html>